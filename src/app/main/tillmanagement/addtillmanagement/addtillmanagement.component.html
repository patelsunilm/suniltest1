<div id="forms" class="page-layout simple fullwidth" fxLayout="column">

  <!-- HEADER -->

  <div class="header accent p-24 h-60 cstm-addtillmanagment-header" fxLayout="row" fxLayoutAlign="center center" fxLayout.gt-xs="row"
    fxLayoutAlign.gt-xs="space-between center">

    <div class="logo mb-18 mb-sm-0" fxLayout="row" fxLayoutAlign="start center">
      <mat-icon class="logo-icon" [@animate]="{value:'*',params:{delay:'50ms',scale:'0.2'}}">
        image
      </mat-icon>
      <span class="logo-text h1 p-8" [@animate]="{value:'*',params:{delay:'100ms',x:'-25px'}}">
        Add Till Management
      </span>
    </div>
    <button mat-raised-button="" color="" class="tillmanagment-back-btn" style="margin-top: 10px;" matTooltip="Back"
      [routerLink]="['/tillmanagement']">Back</button>
  </div>
  <!-- / HEADER -->

  <!-- CONTENT -->
  <div class="content p-24">

    <div class="mb-24" fxLayout="column" fxLayoutAlign="start" fxLayout.gt-md="row">

      <form class="mat-card mat-elevation-z4 p-24 mr-24" fxLayout="column" fxLayoutAlign="start" fxFlex="1 0 auto"
        name="form" [formGroup]="form" (ngSubmit)="addTillManagement()"   enctype="multipart/form-data">


        <div class="till" fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
         
          <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
              <mat-label>Select Till  Type</mat-label>
              <mat-select    required  formControlName="tillTypeId" (change)="onChange()" >
                  <mat-option  value="SelectTillType">Select Till  Type</mat-option>
                  
                    <mat-option  *ngFor="let types of tilltype" [value]="types._id" (click)="openSecondary(types.tilltype)">
                      {{types.tilltype}}
                  </mat-option>
              </mat-select>
              <mat-error *ngIf="form.get('tillTypeId').hasError('required')">
                Please select till  type!
            </mat-error>
          </mat-form-field>
      </div>
      <!-- class="{{this.currentclass}}" -->
      <!-- *ngIf="showSecondary == true" -->
      <div *ngIf="showSecondary == true"   fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
        <mat-form-field appearance="outline" fxFlex="50" class="pl-4" >
          <mat-label>Select Secondary Till</mat-label>
          <mat-select   formControlName="Secondaryid">
              <mat-option>Select Secondary Till</mat-option>
              <mat-option  *ngFor="let  details of secondarydetails" [value]="details._id" >
                {{details.name}}
            </mat-option>

          </mat-select>
          <mat-error   *ngIf="form.get('Secondaryid').hasError('required')">
            Please select secondary type!
          </mat-error>
        </mat-form-field>
      </div>
    
    <div class="till" fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto">
      <mat-form-field appearance="outline" fxFlex="50" class="pl-4">
          <mat-label>Till Name</mat-label>
          <input matInput formControlName="tillName" pattern="^([^\s])([\sa-zA-Z0-9_\-]*)([^\s])$"  required>
          <mat-error *ngIf="form.get('tillName').hasError('required')">
            Please enter till name !
        </mat-error>
        <mat-error *ngIf="form.get('tillName').hasError('pattern')">
          Please enter valid name!
      </mat-error>
      </mat-form-field>
     
    </div>
        <div class="button-row" style="text-align: center;">
          <button  [disabled]="form.invalid"   mat-raised-button="" color="" style="margin-top: 10px;">Submit</button>
        </div>
    
      </form>
    </div>
  </div>
  <!-- / CONTENT -->
</div>